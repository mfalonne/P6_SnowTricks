{% extends 'base.html.twig' %}

{% block title %}Accueil{% endblock %}

{% block body %}
    <section class="header-section">
        <div class="header-image" >
            {# <img src="/images/header-trick.jpg" class="card-img-top" alt="..."> #}
        </div>
    </section>
    <section class="container py-5">
        <div class="d-flex flex-wrap gap-3">
            {% for trick in tricks %}
            <div class="card custom-card" style="width: 18rem;">
                {# Vérifiez si le trick a un média associé et s'il est de type image #}
                {% set media = trick.media|first %}
                {% if media and media.type == 'image' %}
                    <img src="{{ asset(media.url) }}" class="card-img-top mb-3 custom-card-img" alt="{{ trick.name }}">
                {% else %}
                    <img src="/images/header-trick.jpg" class="card-img-top mb-3 custom-card-img" alt="Default image">
                {% endif %}
                <div class="d-flex justify-content-between align-items-center">
                    <a href="{{path('trick.show', {id: trick.id, slug:trick.slug})}}" class="btn btn-primary m-1">{{trick.name}}</a>
                    <div>
                        <!-- Icône de modification (crayon) -->
                        <a href="/modifier" class="btn btn-warning btn-sm me-2">
                        <i class="bi bi-pencil"></i> <!-- Icône crayon de Bootstrap Icons -->
                        </a>
                        <!-- Icône de suppression (corbeille) -->
                        <a href="/supprimer" class="btn btn-danger btn-sm">
                        <i class="bi bi-trash"></i> <!-- Icône corbeille de Bootstrap Icons -->
                        </a>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </section>
{% endblock %}  
